<!DOCTYPE html>
<html lang="ru">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="google-site-verification" content="8mFdQ6fx2vbKs1ynhCqDihabZ7TNBR-_lQ8d4FD6NLE" />
  <meta name="yandex-verification" content="083b69efd32bfc0d" />
  <meta name="description" content="Twindrop — это лёгкий и элегантный сервис P2P‑обмена файлами прямо в браузере. Ни регистрации, ни облаков, ни посредников. Только вы, получатель и защищённый канал по WebRTC.">
  <title>Получить файл | Twindrop, P2P share</title>
  <link rel="icon" href="/images/t.png" type="image/x-icon">
  <link rel="stylesheet" href="styles.css" />
  <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="shared.js" defer></script>
  <script src="receive.js" defer></script>
</head>

<body class="theme-premium">
  <div class="bg">
    <div class="bg-gradient"></div>
    <div class="bg-vignette"></div>
    <div class="bg-noise" aria-hidden="true"></div>
  </div>

  <header class="app-header" role="banner" aria-label="Навигация P2P Share">
    <div class="header-inner container">
      <h1><a class="brand" href="/">Twindrop</a></h1>
      <nav class="nav" aria-label="Основная навигация">
        <a class="nav-link ripple" href="/">Получить</a>
        <a class="nav-link ripple" href="/send">Отправить</a>
      </nav>
    </div>
    <div class="hairline"></div>
  </header>

  <main class="app-main container" role="main">
    <div class="wrap">
      <h1 class="page-title">Получить файл</h1>

      <section class="section glass card-receive" aria-labelledby="receive-code-title">
        <h2 id="receive-code-title" class="visually-hidden">Код и QR для подключения</h2>
        <div class="row code-qr-row">
          <div class="code-col">
            <div class="label muted">Ваш код:</div>
            <div id="code" class="code mono big">••••••</div>
            <button id="copyCode" class="btn ripple gloss" aria-live="polite">Скопировать</button>
          </div>

          <div class="qr-col">
            <div class="small muted">Попросите отправителя ввести этот код на странице «Отправить», или отсканировать
              QR:</div>
            <div id="qr" style="width: 212px; height: 212px; margin: auto;" class="qr fade-target"
              aria-label="QR для подключения"></div>
          </div>
        </div>
      </section>

      <div id="status" class="section notice" style="display:none" role="status" aria-live="polite"></div>

      <section class="section glass" aria-labelledby="download-progress-title">
        <h2 id="download-progress-title" class="section-title">Скачивание</h2>
        <div class="row">
          <div class="progress-wrap">
            <div class="progress" aria-label="Ход скачивания">
              <div id="recvBar" class="bar"></div>
            </div>
            <div id="recvText" class="small muted">Ожидание отправителя…</div>
          </div>
        </div>
        <div id="downloads" class="downloads" style="margin-top:12px"></div>
      </section>

    </div>
  </main>

  <footer class="app-footer" role="contentinfo">
    <div class="container footer-inner">

      <div class="social">
        <a class="social-btn ripple" href="https://t.me/h4tenigg4s" target="_blank" rel="noopener"
          aria-label="Telegram @h4tenigg4s" data-tooltip="Telegram">
          <!-- Telegram SVG -->
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M9.04 15.02 8.9 19.2c.41 0 .6-.18.82-.4l1.96-1.88 4.06 2.98c.75.41 1.28.2 1.49-.7l2.7-12.64c.24-1.1-.42-1.53-1.13-1.26L3.6 10.1c-1.08.42-1.06 1.02-.18 1.29l4.36 1.36 10.11-6.37c.48-.3.92-.14.56.16" />
          </svg>
        </a>
        <a class="social-btn ripple" href="https://x.com/kblv37" target="_blank" rel="noopener"
          aria-label="Twitter X @kblv37" data-tooltip="X / Twitter">
          <!-- X SVG -->
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path d="M18 3h3l-7.5 8.6L22 21h-6l-4.5-5.6L6 21H3l7.9-9.1L2 3h6l4.1 5.3L18 3z" />
          </svg>
        </a>
        <a class="social-btn ripple" href="https://www.linkedin.com/in/jahongir-qobilov-76a742275" target="_blank"
          rel="noopener" aria-label="LinkedIn" data-tooltip="LinkedIn">
          <!-- LinkedIn SVG -->
          <svg viewBox="0 0 24 24" aria-hidden="true">
            <path
              d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM0 8h5v16H0V8zm7.5 0H12v2.2h.06c.63-1.2 2.18-2.46 4.49-2.46 4.8 0 5.68 3.16 5.68 7.26V24h-5v-6.93c0-1.65-.03-3.77-2.3-3.77-2.3 0-2.65 1.79-2.65 3.64V24h-5V8z" />
          </svg>
        </a>
        <a class="social-btn ripple" href="about.html" target="_blank" rel="noopener" aria-label="About Twindrop"
          data-tooltip="About Twindrop" for="about">
          <!-- About Twindrop -->
          <span>About</span>
        </a>
      </div>

    </div>
  </footer>

  <script>
    // prefers-reduced-motion
    const PRM = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

    // :focus-visible полировка
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Tab') document.documentElement.classList.add('kbd-nav');
    }, { passive: true });
    document.addEventListener('mousedown', () => {
      document.documentElement.classList.remove('kbd-nav');
    }, { passive: true });

    // QR fade-in, когда библиотека отрисует содержимое
    const qr = document.getElementById('qr');
    if (qr) {
      const mo = new MutationObserver(() => {
        qr.classList.add('is-visible');
      });
      mo.observe(qr, { childList: true });
    }

    // Тост при копировании кода
    const copyBtn = document.getElementById('copyCode');
    if (copyBtn) {
      copyBtn.addEventListener('click', () => {
        const toast = document.createElement('div');
        toast.className = 'toast';
        toast.textContent = 'Скопировано';
        document.body.appendChild(toast);
        requestAnimationFrame(() => toast.classList.add('show'));
        setTimeout(() => {
          toast.classList.remove('show');
          setTimeout(() => toast.remove(), 200);
        }, 1400);
      });
    }
  </script>
</body>

</html>