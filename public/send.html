<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Отправить файл — P2P Share</title>
    <link rel="stylesheet" href="/styles2.css" />
    <script src="https://cdn.socket.io/4.7.2/socket.io.min.js"></script>
    <script src="/shared.js" defer></script>
    <script src="/send.js" defer></script>
    <script src="/animation.js" defer></script>
</head>

<body>

    <header class="app-header" role="banner" aria-label="Навигация P2P Share">
        <div class="header-inner">
            <a class="brand" href="/" aria-label="P2P Share">
                <svg viewBox="0 0 24 24" aria-hidden="true">
                    <path fill="currentColor"
                        d="M12 2a10 10 0 1 1-7.07 2.93L9 8l6-2 2 6-5 5-6-2 2-6L4.93 4.93A10 10 0 0 1 12 2z" />
                </svg>
                P2P Share
            </a>
            <nav class="nav" aria-label="Основная навигация">
                <a class="nav-link" href="/receive" aria-current="page">Получить</a>
                <a class="nav-link" href="/send">Отправить</a>
            </nav>
        </div>
    </header>


    <main class="app-main" role="main">

        <div class="wrap">
            <h1>Отправить файл</h1>

            <div class="section">
                <div class="row">
                    <input id="codeInput" class="input" inputmode="numeric" pattern="[0-9]*" placeholder="6‑значный код"
                        maxlength="6" aria-label="Код получателя" />
                    <button id="joinBtn" class="btn" disabled>Подключиться</button>
                </div>
                <div class="small" style="margin-top:8px">Или откройте эту страницу по QR — код подставится сам.</div>
            </div>

            <div id="sendUI" class="section" style="display:none">
                <div class="row">
                    <label class="dropzone" id="drop" for="file">
                        <div class="small">Перетащите файл сюда или нажмите, чтобы выбрать</div>
                        <button type="button" class="btn" style="pointer-events:none">Выбрать файл</button>
                    </label>
                    <input type="file" id="file" hidden />
                    <button id="sendBtn" class="btn" disabled>Отправить</button>
                </div>

                <div class="row" style="margin-top:12px">
                    <div style="flex:1">
                        <div><strong>Передача:</strong></div>
                        <div class="progress" id="progress" data-state="idle" style="margin-top:8px">
                            <div id="sendBar" class="bar"></div>
                        </div>
                        <div id="sendText" class="small">Ожидание подключения получателя…</div>
                    </div>
                </div>
            </div>


            <div id="status" class="section notice" style="display:none"></div>
        </div>

    </main>

    <footer class="app-footer" role="contentinfo">
        <span class="muted">Соединение P2P через WebRTC. Сервер видит только сигналы.</span>
    </footer>

    <!-- Соцсети -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const socialHTML = `
                <style>
                .social-links {
                    display: flex;
                    justify-content: center;
                    gap: 14px;
                    margin: 40px 0 20px;
                    flex-wrap: wrap;
                }
                .social-links a {
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    width: 42px;
                    height: 42px;
                    border-radius: 50%;
                    background: var(--surface-2, #222);
                    color: var(--text, #fff);
                    text-decoration: none;
                    transition: transform 0.2s ease, background 0.2s ease;
                    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
                }
                .social-links a:hover {
                    transform: translateY(-2px);
                    background: var(--accent, #6ea8fe);
                    color: #fff;
                }
                .social-links svg {
                    width: 20px;
                    height: 20px;
                    fill: currentColor;
                }
                </style>
                <div class="social-links" aria-label="Мои соцсети">
                <a href="https://t.me/username" target="_blank" rel="noopener" aria-label="Telegram">
                    <svg viewBox="0 0 24 24"><path d="M9.999 15.17 9.94 19c.57 0 .82-.24 1.12-.53l2.68-2.57 5.56 4.07c1.02.56 1.75.27 2.01-.94l3.64-17.06c.33-1.54-.56-2.14-1.56-1.77L1.48 9.3c-1.5.58-1.48 1.4-.26 1.78l5.7 1.78 13.2-8.3c.62-.38 1.18-.17.72.24"/></svg>
                </a>
                <a href="https://github.com/username" target="_blank" rel="noopener" aria-label="GitHub">
                    <svg viewBox="0 0 24 24"><path d="M12 .5C5.65.5.5 5.65.5 12c0 5.09 3.29 9.4 7.86 10.94.58.11.79-.25.79-.56 0-.28-.01-1.02-.02-2-3.2.7-3.88-1.54-3.88-1.54-.53-1.34-1.3-1.7-1.3-1.7-1.06-.73.08-.72.08-.72 1.17.08 1.78 1.2 1.78 1.2 1.04 1.78 2.73 1.27 3.4.97.11-.75.41-1.27.75-1.56-2.55-.29-5.23-1.28-5.23-5.7 0-1.26.45-2.29 1.19-3.1-.12-.29-.52-1.45.11-3.02 0 0 .97-.31 3.18 1.18a11.1 11.1 0 0 1 5.8 0c2.2-1.49 3.17-1.18 3.17-1.18.63 1.57.23 2.73.11 3.02.74.81 1.18 1.84 1.18 3.1 0 4.43-2.69 5.41-5.25 5.69.42.36.8 1.08.8 2.18 0 1.57-.01 2.84-.01 3.23 0 .31.21.68.8.56A10.99 10.99 0 0 0 23.5 12C23.5 5.65 18.35.5 12 .5z"/></svg>
                </a>
                <a href="https://www.linkedin.com/in/username" target="_blank" rel="noopener" aria-label="LinkedIn">
                    <svg viewBox="0 0 24 24"><path d="M4.98 3.5C4.98 4.88 3.87 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1 4.98 2.12 4.98 3.5zM.5 8h4V24h-4V8zm7.5 0h3.8v2.2h.05c.53-1 1.82-2.2 3.75-2.2 4 0 4.75 2.63 4.75 6V24h-4v-7.9c0-1.88-.03-4.3-2.62-4.3-2.62 0-3.02 2.05-3.02 4.17V24h-4V8z"/></svg>
                </a>
                </div>
            `;
            document.body.insertAdjacentHTML("beforeend", socialHTML);
        });
    </script>

</body>

</html>